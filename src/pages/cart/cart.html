<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Pedido</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
	<div style="text-align: center;" *ngIf="getCartData().length == 0" margin padding>
		<div class="item item-image" margin padding>
		    <img src="assets/images/cart-emtpy.png" margin>
		</div>
		<h3 style="color: gray;">El carro está <strong>VACÍO</strong></h3>
	</div>
	<ion-list *ngIf="getCartData().length != 0">
		<ion-item-sliding *ngFor="let productRow of getCartData(); let i = index" [attr.data-index]="i">
			<ion-item >
				<ion-thumbnail  item-start>
					<img src="http://www.cdsurargentina.com.ar/cdsur-core/frontend/web/products-images/{{productRow.product.image_filename}}">
				</ion-thumbnail >
				<ion-label class="label label-md">
					<h2>{{productRow.product.description}}</h2>
					
				</ion-label>
				<div item-right>
					<ion-icon name="remove-circle" (click)="oneLess(productRow)"></ion-icon>
					<input [(ngModel)]="productRow.quantity" (change)="changeQuantity()" type="number" class="product-quantity">
					<ion-icon name="add-circle" (click)="oneMore(productRow)"></ion-icon>
				</div>
			</ion-item>
			<ion-item-options side="right">
				<button color="danger" ion-button class="trash-button" (click)="removeProduct(product)" >
					<ion-icon name="trash"></ion-icon>
				</button>
			</ion-item-options>
		</ion-item-sliding>
	</ion-list>
</ion-content>

<ion-footer>
    <ion-grid>
        <ion-row no-padding no-margin>
            <ion-col col-6 no-padding style="text-align: center;">
                <button ion-button outline color="danger" (click)="clearCart()" [disabled]="getCartData().length == 0">
                	<ion-icon name="trash"></ion-icon>
                	<span style="margin-left: 10px;">Vaciar Carro</span>
                </button>
            </ion-col>
            <ion-col col-6 no-padding style="text-align: center;">
                <button ion-button outline color="primary"  (click)="sendCart()" [disabled]="getCartData().length == 0">
				  <ion-icon name="send" right-margin></ion-icon>
				  <span style="margin-left: 10px;">Enviar Pedido</span>
				</button>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-footer>